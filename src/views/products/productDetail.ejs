<!DOCTYPE html>
<html lang="en">
    <%- include('../partials/head', {title: product.model.name}) %>   <!--// partial Head //-->
    <body>
        
        <%- include('../partials/header') %>   <!--// partial Header //-->
        
        <main class="mainUs width-100">
            
            <div class="main-det borde-general">       
                
                <div class="cen-1">
                    <div>
                            <img class = "aspecto width-100" src="/img/products/<%= product.model.image.name %>" alt="Imagen del artículo">
                    </div>    
                </div>
                
                <div class="cen-2 columna margin-auto">   <!--// Descripcion y opciones del artículo //-->
                    
                    <% if (product.model.category.name == 'Sale') { %>
                        <p class="f-size-40"><%= product.model.name %></p>
                        <!-- <p class="f-size-24">Modelo #<%= product.model.id %> - Artículo #<%= product.id %></p> -->
                        <p class="marg-0 price-size tachado">$ <%= product.price %></p>
                        <span class="marg-0"><%= product.discount.number %> %OFF</span>
                        <p class="marg-0 price-size">$ <%= product.price-((product.price*product.discount.number)/100) %></p>
                    <% } else { %>
                        <p class="f-size-40"><%= product.model.name %></p>
                        <!-- <p class="f-size-24">Modelo #<%= product.model.id %> - Artículo #<%= product.id %></p> -->
                        <p class="f-size-40" id="price">$ <%= product.price %></p>
                    <% } %>
                    
                    <div>
                        <p class="f-size-24" >Colores Disponibles</p>   <!--// Botón de colores a seleccionar //-->
                    </div>
                    <div class="sinborde">
                        <form action="">
                            <% for (model of models) { %>
                                <button class="button-color-detail" style="background-color: <%= model.color.hex %>" title="<%= model.color.name %>"></button>
                            <% } %>
                        </form>
                    </div>
                    
                    <p class="f-size-24" >Talles disponibles</p>    <!--// Botón Talles a seleccionar //-->
                    <div class="sinborde">
                        <form action="" class="boton3">
                            <button id="button-size"><%= product.size.number %></button>
                            <% for (size of sizes) { %>
                                <button class="button-color-detail"><%= size.number %></button>
                            <% } %>
                        </form>
                    </div>

                    <div>   
                        <p class="f-size-24">Descripción</p>    <!--// Descripcion //-->
                        <p><%= product.model.description %></p>
                    </div>

                    <div>    
                        <p class="f-size-24" >Cantidad</p>   <!--// Botón cantidad (agregar su propio archivos Js)//-->
                    </div>        
                    <div class="main-det columna sinborde">        
                        <span>
                            <button id='decrease' class="quantityButton" onclick="decrease()"><i class="far fa-minus-square"></i></button>
                            <input type='text' id="quantity" class="quantityValue" name="quantity" value="0">
                            <button id='increase' class="quantityButton" onclick="increase()"><i class="far fa-plus-square"></i></button>
                        </span>
                    </div>
                            
                    <% if (loggedUser && loggedUser.role.name == 'admin') { %>
                        <div>   <!--// Botón Editar //-->
                            <form action="" method="GET">
                                <a href="/producto/<%=product.id%>/editar"><button type="button" class="boton5">Editar artículo</button></a>
                            </form>
                        </div>
                        <div class="marg-20"></div>
                        <div>   <!--// Botón Eliminar producto //-->
                            <button class="displayFlex marg-nonside-10">Eliminar articulo</button>
                            <aside class="modal">
                                <div class="modal-content">
                                    ¿ Esta seguro que desea eliminar este articulo ?
                                    <form action="/producto/<%=product.id%>/eliminar?_method=DELETE" method="POST"> 
                                        <button type="submit" class="marg-nonside-10">Eliminar artículo</button> 
                                    </form>
                                    <button class="salir">Salir</button>
                                </div> 
                            </aside>
                        </div>
                    <% } else {%>
                        <div>   <!--// Botón Comprar //-->
                            <form action="/carrito/<%=product.id%>/agregar" method="POST">
                                <button type="submit" class="boton5">Agregar a la bolsa</button>
                            </form>
                        </div>
                    <% } %>
                          
                </div>

            </div> 
    
        </main>
        
        <%- include('../partials/footer') %>   <!--// partial Footer //-->

        <script src="/js/alertDelete.js" type="text/javascript"></script>

    </body>
</html>